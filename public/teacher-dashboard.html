
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Teacher Dashboard - Gold and Linc Schools</title>
  <meta name="viewport" content="width=device-width,initial-scale=0.90">
  <link href="https://fonts.googleapis.com/css?family=Inter:400,600,700&display=swap" rel="stylesheet">
  <!-- Link to external CSS -->
  <link rel="stylesheet" href="teachers.css">
  <link href="https://cdn.quilljs.com/1.3.7/quill.snow.css" rel="stylesheet">
<script src="https://cdn.quilljs.com/1.3.7/quill.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>
<div class="dashboard-container">
  <aside class="sidebar">
    <div class="school-logo">GLS</div>
    <button class="hamburger" aria-label="Open navigation" onclick="toggleSidebarMenu()" style="display:none;">&#9776;</button>
    <nav>
      <button class="active" data-section="dashboard">Dashboard</button>
      <button data-section="classes">My Classes</button>
      <button data-section="attendance">Attendance</button>
      <button data-section="gradebook">Gradebook</button>
      <button data-section="assignments">Assignments</button>
      <button data-section="draftResults">Draft Results</button>
      <button data-section="notifications">Notifications</button>
      <button data-section="profile">Profile/Settings</button>
      <!-- Add in the sidebar menu where other buttons are -->
<button data-section="cbtQuestions">CBT Questions</button>
      <button data-section="myCBTQuestions">My Uploaded CBTs</button>
    </nav>
    <div class="profile-section">
      <div style="font-size:1.1em;"><strong>Mr. John Doe</strong></div>
      <small>Mathematics Teacher</small>
    </div>
  </aside>
  <main class="main-content">
    <header>
      <h1>Welcome, Mr. John Doe</h1>
      <div class="avatar">JD</div>
    </header>

    <!-- Dashboard Section -->
    <section id="section-dashboard">
      <div class="card classes-list">
        <h2>My Classes</h2>
        <ul id="class-list"></ul>
      </div>
      <div id="students-block"></div>
      <div id="subjects-block"></div>
      <!-- Add Subject to Class -->
      <div id="add-subject-block" style="display:none;">
        <form id="add-subject-form" style="margin-top:10px;display:flex;gap:6px;align-items:center;">
          <input type="text" id="subject-name-input" placeholder="New Subject Name" required />
          <button type="submit" class="btn">+ Add Subject</button>
        </form>
      </div>
    </section>

    <!-- Attendance Section -->
    <section id="section-attendance" style="display:none;">
      <div class="card students-table">
        <h2>Attendance</h2>
        <form id="attendance-form">
          <label>Select Class:</label>
          <select id="attendance-class"></select>
          <div id="attendance-students"></div>
          <button type="submit" class="btn" style="margin-top:12px;">Save Attendance</button>
        </form>
      </div>
    </section>

    <!-- Gradebook Section -->
    <section id="section-gradebook" style="display:none;">
      <div class="card students-table">
        <h2>Gradebook</h2>
        <label>Select Class:</label>
        <select id="gradebook-class"></select>
        <div id="gradebook-table"></div>
      </div>
    </section>
<section id="section-myCBTQuestions" style="display:none;">
  <div class="card cbt-card">
    <h2 class="cbt-title mb-3">My Uploaded CBTs</h2>
    <div style="margin-bottom: 1em;">
      <button class="btn cbt-upload-btn" id="pushToUniversalBtn" disabled>Push Selected to Question Bank</button>
    </div>
    <div id="myCBTQuestionsList"></div>
  </div>
</section>
    <!-- Assignments Section -->
    <section id="section-assignments" style="display:none;">
      <div class="card students-table">
        <h2 style="display:flex;align-items:center;justify-content:space-between;">
          <span>Assignments</span>
          <button class="btn" onclick="openAssignmentModal()">+ Create Assignment</button>
        </h2>
        <div id="assignment-list"></div>
      </div>
    </section>

    <!-- Draft Results Section -->
    <section id="section-draftResults" style="display:none;">
      <div class="card draft-results-table">
        <h2>Draft Results</h2>
        <table id="draft-results-table">
          <thead>
            <tr>
              <th>Student</th>
              <th>Class</th>
              <th>Term</th>
              <th>Status</th>
              <th>Last Updated</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <!-- Draft results will be loaded here -->
          </tbody>
        </table>
      </div>
    </section>

    <!-- Notifications Section -->
    <section id="section-notifications" style="display:none;">
      <div class="card notification-list" id="notification-list">
        <h2>Notifications</h2>
      </div>
    </section>

<!-- Add this after other <section> blocks -->
<!-- ...other code above... -->
<section id="section-cbtQuestions" style="display:none;">
  <div class="card cbt-card">
    <h2 class="cbt-title" style="margin-bottom: 1.2em;">CBT Questions Uploader</h2>
    <form id="cbt-question-form" autocomplete="off">
      <div class="cbt-form-row">
        <div>
          <label>Class</label>
          <select id="cbt-class-select" required class="cbt-input"></select>
        </div>
        <div>
          <label>Subject</label>
          <select id="cbt-subject-select" required class="cbt-input"></select>
        </div>
        <div>
          <label>Title</label>
          <input type="text" id="cbt-title" required class="cbt-input">
        </div>
        <div>
          <label>Duration (minutes)</label>
          <input type="number" id="cbt-duration" min="1" required class="cbt-input" style="max-width:110px;">
        </div>
      </div>
      <label class="block" style="margin-top:1.5em;margin-bottom:0.8em;">Questions</label>
      <div id="cbt-questions-list"></div>
      <button type="button" class="btn cbt-add-q-btn" id="cbt-add-question-btn">
        <i class="fa fa-plus"></i> Add Question
      </button>
      <button type="submit" class="btn cbt-upload-btn" id="cbt-upload-btn" style="margin-top:14px;">Upload CBT</button>
    </form>
    <div id="cbt-upload-msg" style="margin-top:12px;color:green;"></div>
  </div>
</section>
<!-- ...rest of file unchanged... -->
    <!-- Profile/Settings Section -->
    <section id="section-profile" style="display:none;">
      <div class="card profile-settings">
        <h2>Profile / Settings</h2>
        <form id="profile-form">
          <label>Name</label>
          <input type="text" id="profile-name" value="Mr. John Doe">
          <label>Email</label>
          <input type="email" id="profile-email" value="john.doe@goldlincschools.com">
          <label>Password</label>
          <input type="password" id="profile-password" placeholder="Change password">
          <button type="submit">Update Profile</button>
        </form>
      </div>
    </section>

    <!-- Assignment Modal -->
    <div id="assignmentModalBg" class="form-modal-bg" style="display:none;">
      <div class="form-modal">
        <button class="close-btn" onclick="closeAssignmentModal()">&times;</button>
        <h3>Create/Update Assignment</h3>
        <form id="assignmentForm">
          <label>Class</label>
          <select id="assignment-class"></select>
          <label>Title</label>
          <input type="text" id="assignment-title" name="title" required>
          <label>Subject</label>
          <select name="subject" id="assignment-subject"></select>
          <!-- Add this in the assignment modal form, after the "Due Date" input, for example -->
<label>CBT (optional)</label>
<select id="assignment-cbt">
  <option value="">None (regular assignment)</option>
  <!-- CBTs will be loaded here -->
</select>
          <label>Description/Instruction</label>
          <input type="text" id="assignment-desc" name="desc" required>
          <label>Due Date</label>
          <input type="date" id="assignment-due" name="due" required>
          <div class="modal-actions">
            <button type="submit" class="btn">Save Assignment</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal for Result Entry -->
    <div id="resultModalBg" class="form-modal-bg" style="display:none;">
      <div class="form-modal">
        <button class="close-btn" onclick="closeResultModal()">&times;</button>
        <h3>Enter/Update Result</h3>
        <form id="resultForm">
          <div id="resultFormFields"></div>
          <div class="modal-actions">
            <button type="submit" class="btn">Save Draft</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Student Edit Modal (for update action in student section) -->
    <div id="editStudentModal" style="display:none;position:fixed;top:0;left:0;right:0;bottom:0;z-index:2000;background:rgba(32,40,71,0.23);align-items:center;justify-content:center;">
      <form id="editStudentForm" style="background:#fff;padding:30px;border-radius:10px;max-width:320px;margin:auto;">
        <h3>Edit Student</h3>
        <label>Name</label><input type="text" id="editStudentName"><br>
        <label>Reg. No.</label><input type="text" id="editStudentRegNo"><br>
        <label>Email</label><input type="email" id="editStudentEmail"><br>
        <div style="margin-top:12px;">
          <button type="submit" class="btn warning">Update</button>
          <button type="button" class="btn" onclick="closeEditStudentModal()">Cancel</button>
        </div>
      </form>
    </div>
  </main>
</div>
<script src="teachers.js"></script>
</body>
</html>
